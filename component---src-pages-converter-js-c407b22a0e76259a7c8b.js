"use strict";(self.webpackChunkdream_machine=self.webpackChunkdream_machine||[]).push([[150],{308:function(e,r,n){n.r(r);var t=n(5861),a=n(4578),u=n(7757),s=n.n(u),i=n(7294);function c(e){var r,n,t,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,t=Symbol.iterator);a--;){if(n&&null!=(r=e[n]))return r.call(e);if(t&&null!=(r=e[t]))return new o(r.call(e));n="@@asyncIterator",t="@@iterator"}throw new TypeError("Object is not async iterable")}function o(e){function r(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var r=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:r}}))}return o=function(e){this.s=e,this.n=e.next},o.prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):r(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):r(n.apply(this.s,arguments))}},new o(e)}var l=function(e){function r(r){var n;return(n=e.call(this,r)||this).chooseMDXSaveDirectory=(0,t.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showDirectoryPicker();case 2:return r=e.sent,e.next=5,n.verifyPermission(r,!0);case 5:n.setState({mdxSaveDirHandle:r});case 6:case"end":return e.stop()}}),e)}))),n.chooseJSONDirectory=(0,t.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showDirectoryPicker();case 2:r=e.sent,n.setState({jsonDirHandle:r});case 4:case"end":return e.stop()}}),e)}))),n.onConvert=(0,t.Z)(s().mark((function e(){var r,t,a,u,i,o,l,f,v,p,h,d,m,x,b;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.state,t=r.jsonDirHandle,a=r.mdxSaveDirHandle,u=!1,i=!1,e.prev=3,l=c(t.values());case 5:return e.next=7,l.next();case 7:if(!(u=!(f=e.sent).done)){e.next=31;break}if("file"===(v=f.value).kind){e.next=11;break}return e.abrupt("break",31);case 11:if(!v.name.startsWith(".")){e.next=13;break}return e.abrupt("continue",28);case 13:return e.next=15,v.getFile();case 15:return p=e.sent,e.next=18,p.text();case 18:return h=e.sent,d=JSON.parse(h),console.log(d),m=n.convertToMDX(d),x=p.name.replace(".json",".mdx"),e.next=25,n.getSaveHandle(x,a);case 25:return b=e.sent,e.next=28,n.writeFile(b,m);case 28:u=!1,e.next=5;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(3),i=!0,o=e.t0;case 37:if(e.prev=37,e.prev=38,!u||null==l.return){e.next=42;break}return e.next=42,l.return();case 42:if(e.prev=42,!i){e.next=45;break}throw o;case 45:return e.finish(42);case 46:return e.finish(37);case 47:case"end":return e.stop()}}),e,null,[[3,33,37,47],[38,,42,46]])}))),n.convertToMDX=function(e){var r="---";return Object.keys(e).forEach((function(n){r+="\n"+n+": "+JSON.stringify(e[n])})),r+="\n---"},n.verifyPermission=function(){var e=(0,t.Z)(s().mark((function e(r,n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},n&&(t.mode="readwrite"),e.next=4,r.queryPermission(t);case 4:if(e.t0=e.sent,"granted"!==e.t0){e.next=7;break}return e.abrupt("return",!0);case 7:return e.next=9,r.requestPermission(t);case 9:if(e.t1=e.sent,"granted"!==e.t1){e.next=12;break}return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),n.getSaveHandle=function(){var e=(0,t.Z)(s().mark((function e(r,n){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",n.getFileHandle(r,{create:!0}));case 2:return t=n||"Documents",e.next=5,window.showSaveFilePicker({suggestedName:r,startIn:t});case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),n.writeFile=function(){var e=(0,t.Z)(s().mark((function e(r,n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.createWritable();case 2:return t=e.sent,e.next=5,t.write(n);case 5:return e.next=7,t.close();case 7:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),n.state={jsonDirHandle:null,mdxSaveDirHandle:null},n}return(0,a.Z)(r,e),r.prototype.render=function(){var e=this.state,r=e.jsonDirHandle,n=e.mdxSaveDirHandle;return i.createElement("div",null,i.createElement("h1",null,"Converter"),i.createElement("button",{onClick:this.chooseJSONDirectory},"CHOOSE JSON DIRECTORY"),i.createElement("p",null,r&&r.name),i.createElement("br",null),i.createElement("br",null),i.createElement("button",{onClick:this.chooseMDXSaveDirectory},"CHOOSE MDX SAVE DIRECTORY"),i.createElement("p",null,n&&n.name),i.createElement("br",null),i.createElement("br",null),i.createElement("button",{onClick:this.onConvert},"CONVERT"))},r}(i.Component);r.default=l},5861:function(e,r,n){function t(e,r,n,t,a,u,s){try{var i=e[u](s),c=i.value}catch(o){return void n(o)}i.done?r(c):Promise.resolve(c).then(t,a)}function a(e){return function(){var r=this,n=arguments;return new Promise((function(a,u){var s=e.apply(r,n);function i(e){t(s,a,u,i,c,"next",e)}function c(e){t(s,a,u,i,c,"throw",e)}i(void 0)}))}}n.d(r,{Z:function(){return a}})}}]);
//# sourceMappingURL=component---src-pages-converter-js-c407b22a0e76259a7c8b.js.map