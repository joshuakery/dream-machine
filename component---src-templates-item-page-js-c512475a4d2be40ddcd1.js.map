{"version":3,"file":"component---src-templates-item-page-js-c512475a4d2be40ddcd1.js","mappings":"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","sources":["webpack://dream-machine/./src/templates/item-page.module.css","webpack://dream-machine/./src/assets/svg/item2/item-casing.svg","webpack://dream-machine/./src/templates/item-page.js","webpack://dream-machine/./src/assets/svg/item/item-window-background.svg","webpack://dream-machine/./src/assets/svg/item/item-window.svg"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var background = \"item-page-module--background--VEFWb\";\nexport var casing = \"item-page-module--casing--z9yOM\";\nexport var smallWindow = \"item-page-module--smallWindow--FDYGu\";\nexport var previousItem = \"item-page-module--previousItem--3N1Hg\";\nexport var windowBackground = \"item-page-module--windowBackground--4L5xw\";\nexport var window = \"item-page-module--window--CtoSA\";\nexport var mainImage = \"item-page-module--mainImage--uOjwI\";\nexport var viewsDisplay = \"item-page-module--viewsDisplay--iyGHQ\";\nexport var viewsImage = \"item-page-module--viewsImage--9WwXl\";\nexport var currentView = \"item-page-module--currentView--cfiGG\";\nexport var nextItems = \"item-page-module--nextItems--6Yhgs\";\nexport var nextItem = \"item-page-module--nextItem--kY6dc\";\nexport var titleImageContainer = \"item-page-module--titleImageContainer--sOnj+\";\nexport var binLinkContainer = \"item-page-module--binLinkContainer--yjoG9\";\nexport var binLink = \"item-page-module--binLink--mcb6T\";\nexport var binTitleContainer = \"item-page-module--binTitleContainer--2L3o1\";\nexport var binTitle = \"item-page-module--binTitle--YcGjk\";\nexport var titleContainer = \"item-page-module--titleContainer--06F+O\";\nexport var title = \"item-page-module--title--6zyLb\";\nexport var object = \"item-page-module--object--Zf1gE\";\nexport var viewsDisplayContainer = \"item-page-module--viewsDisplayContainer--iBFNx\";\nexport var navButton = \"item-page-module--navButton--yqm1W\";\nexport var prevButton = \"item-page-module--prevButton--P7k-g\";\nexport var nextButton = \"item-page-module--nextButton--9U8QI\";","export default __webpack_public_path__ + \"static/item-casing-d8cb8e5fa1aa2eabb3883b06cd44d668.svg\";","import React, { Component } from \"react\"\nimport { graphql, Link } from \"gatsby\"\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\n\nimport Navigation from '../components/Navigation/navigation';\n\nimport * as styles from \"../templates/item-page.module.css\"\n\nimport casing from '../assets/svg/item2/item-casing.svg';\nimport windowBackground from '../assets/svg/item/item-window-background.svg';\nimport window from '../assets/svg/item/item-window.svg';\nimport smallWindow from '../assets/svg/item2/item-small-window.svg';\n\nimport SoundPlayer from '../pages/item/sound-player';\n\nclass ItemPage extends Component {\n  constructor(props) {\n      super(props);\n\n      this.state = {\n          view: 0,\n      }\n  }\n\n  componentDidMount() {\n      this.setState({\n          view: 0\n      });\n  }\n\n  onSwitchTo = i => {\n    this.setState({ view:i });\n  }\n\n  onSwitchToNext = () => {\n    const { views } = this.props.data.mdx.frontmatter;\n    const { view } = this.state;\n    this.onSwitchTo((view+1)%views.length);\n  }\n\n  getViews = () => {\n    const { title, views } = this.props.data.mdx.frontmatter;\n    const { view } = this.state;\n\n    const display = [];\n    for (let i=0; i<views.length; i++) {\n      display.push(\n        <div\n            className={`${styles.viewsImage} ${i===view && styles.currentView}`}\n            onClick={() => this.onSwitchTo(i)}\n            key={i}\n        >\n          <GatsbyImage\n            image={getImage(views[i])}\n            alt={`${title}: View #${i}`}\n          />\n        </div>\n      );\n    }\n\n    return display;\n  }\n\n  getPrevItem = () => {\n    const prevItems = this.props.location.state && this.props.location.state.prevItems ?\n        this.props.location.state.prevItems :\n        [];\n\n    const possiblePrevItems = this.props.data.allMdx.edges;\n\n    if (prevItems.length <= 1) {\n        return possiblePrevItems[0].node;\n    }\n    else {\n        const prevItem = possiblePrevItems.filter(item => {\n            return item.node.slug === prevItems[prevItems.length - 1];\n        });\n        return prevItem[0].node;\n    }\n\n  }\n\n  getPrevItemDisplay = () => {\n      const prevItem = this.getPrevItem();\n      return (\n        <Link\n            to={`/item/${prevItem.slug}`}\n            className={`${styles.smallWindow} ${styles.previousItem}`}\n            style={{ backgroundImage:`url(${smallWindow})` }}\n        >\n            <GatsbyImage\n                image={getImage(prevItem.frontmatter.featuredImage)}\n                alt={`Return to ${prevItem.frontmatter.title}`}\n            />\n        </Link>\n      )\n  }\n\n  render() {\n      const { title,\n              views,\n              audio,\n              nextItem,\n              nextItems,\n              box\n            } = this.props.data.mdx.frontmatter;\n      const { view } = this.state;\n      const prevItems = this.props.location.state && this.props.location.state.prevItems ?\n        this.props.location.state.prevItems :\n        [];\n\n      return (\n      <div className={`${styles.background}`}>\n\n          <Navigation />\n\n          <div className={`${styles.casing}`} style={{ backgroundImage:`url(${casing})` }}>\n\n            {this.props.data.allMdx.edges.length > 0 &&\n            this.getPrevItemDisplay()\n            }\n\n            <div className={`${styles.windowBackground}`} style={{ backgroundImage:`url(${windowBackground})` }}>\n                <div className={`${styles.window}`} style={{ backgroundImage:`url(${window})` }}>\n\n                <div className={`${styles.mainImage}`}>\n                    <GatsbyImage\n                      image={getImage(views[view])}\n                      alt={`${title}: View #${view}`}\n                    />\n                </div>\n\n                {views.length > 1 &&\n                    <div className={`${styles.viewsDisplay}`}>\n                    {this.getViews()}\n                    </div>\n                }\n\n                </div>\n            </div>\n\n            {nextItems && nextItems.length > 0 &&\n            <div className={`${styles.nextItems}`} >\n                {nextItems.map(item => (\n                <Link\n                    key={item.slug}\n                    to={`/item/${item.slug}`}\n                    className={`${styles.smallWindow} ${styles.nextItem}`}\n                    style={{ backgroundImage:`url(${smallWindow})` }}\n                >\n                    <GatsbyImage\n                        image={getImage(item.frontmatter.featuredImage)}\n                        alt={`Go to ${item.frontmatter.title}`}\n                    />\n                </Link>\n                ))}\n            </div>\n            }\n\n              \n          </div>\n\n          {audio &&\n          <SoundPlayer\n            slug={this.props.pageContext.slug}\n            audio={audio}\n            nextItem={nextItem}\n            prevItems={prevItems}\n            onSwitchToNext={this.onSwitchToNext}\n          />\n          }\n\n      </div>\n      )\n  }\n}\n\nexport const query = graphql`\n  query ($id: String, $slug: String) {\n    mdx(id: {eq: $id}) {\n      frontmatter {\n        title\n        categories\n        box\n        featuredImage {\n          childImageSharp {\n            gatsbyImageData(\n              placeholder: BLURRED\n              formats: [AUTO, WEBP, AVIF]\n            )\n          }\n        }\n        views {\n          childImageSharp {\n            gatsbyImageData(\n              placeholder: BLURRED\n              formats: [AUTO, WEBP, AVIF]\n            )\n          }\n        }\n        audio\n        nextItem\n        nextItems {\n            slug\n            frontmatter {\n                title\n                featuredImage {\n                  childImageSharp {\n                    gatsbyImageData(\n                        placeholder: BLURRED\n                        formats: [AUTO, WEBP, AVIF]\n                      )\n                  }\n                }\n              }\n        }\n      }\n      body\n    }\n    allMdx(filter: {frontmatter: {nextItem: {eq: $slug}}}) {\n        edges {\n          node {\n            id\n            slug\n            frontmatter {\n                title\n                featuredImage {\n                  childImageSharp {\n                    gatsbyImageData(\n                      placeholder: BLURRED\n                      formats: [AUTO, WEBP, AVIF]\n                    )\n                  }\n                }\n              }\n          }\n        }\n      }\n  }\n`\n\nexport default ItemPage","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgOTI0IDEwOTIiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIHN0cm9rZS1taXRlcmxpbWl0OiAxMDsKICAgICAgICBzdHJva2Utd2lkdGg6IDJweDsKICAgICAgICBmaWxsOiB1cmwoI2xpbmVhci1ncmFkaWVudCk7CiAgICAgICAgc3Ryb2tlOiB1cmwoI2xpbmVhci1ncmFkaWVudC0yKTsKICAgICAgfQogICAgPC9zdHlsZT4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50IiB4MT0iMSIgeTE9IjU0NiIgeDI9IjkyMyIgeTI9IjU0NiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuMDEiIHN0b3AtY29sb3I9IiMzNjM1NTYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIwLjE1IiBzdG9wLWNvbG9yPSIjNWU1Yjg2Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC4yNiIgc3RvcC1jb2xvcj0iIzkyODdiNCIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuMzUiIHN0b3AtY29sb3I9IiM4MzdiYTciLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIwLjUxIiBzdG9wLWNvbG9yPSIjNmY2OTk1Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC42NyIgc3RvcC1jb2xvcj0iIzYyNWY4YSIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuODIiIHN0b3AtY29sb3I9IiM1ZTViODYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMzYzNTU2Ii8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQtMiIgeDE9IjQ2MiIgeTE9IjEwOTIiIHgyPSI0NjIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjOTI4N2I0Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC4wMSIgc3RvcC1jb2xvcj0iIzhjODJhZiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuMDciIHN0b3AtY29sb3I9IiM3ODcxOWQiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIwLjE0IiBzdG9wLWNvbG9yPSIjNjk2NDkwIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC4yMiIgc3RvcC1jb2xvcj0iIzYxNWQ4OCIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuMzUiIHN0b3AtY29sb3I9IiM1ZTViODYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxnIGlkPSJMYXllcl8yIiBkYXRhLW5hbWU9IkxheWVyIDIiPgogICAgPGcgaWQ9IndpbmRvdyI+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iMSIgeT0iMSIgd2lkdGg9IjkyMiIgaGVpZ2h0PSIxMDkwIiByeD0iODAuNDMiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=\"","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4NjEuNTMgMTAxOC41MiI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogIzFhMWExYTsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9IkxheWVyXzIiIGRhdGEtbmFtZT0iTGF5ZXIgMiI+CiAgICA8ZyBpZD0id2luZG93Ij4KICAgICAgPHJlY3QgY2xhc3M9ImNscy0xIiB3aWR0aD0iODYxLjUzIiBoZWlnaHQ9IjEwMTguNTIiIHJ4PSI4MC40MyIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==\""],"names":["smallWindow","ItemPage","props","onSwitchTo","i","setState","view","onSwitchToNext","views","data","mdx","frontmatter","state","length","getViews","title","display","push","className","styles","onClick","key","G","image","getImage","alt","getPrevItem","prevItems","location","possiblePrevItems","allMdx","edges","node","filter","item","slug","getPrevItemDisplay","prevItem","to","style","backgroundImage","featuredImage","componentDidMount","this","render","audio","nextItem","nextItems","box","casing","windowBackground","window","map","pageContext","Component"],"sourceRoot":""}