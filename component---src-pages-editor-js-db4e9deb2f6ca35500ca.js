"use strict";(self.webpackChunkdream_machine=self.webpackChunkdream_machine||[]).push([[259],{45:function(e,t,r){r.r(t);var n=r(5861),a=r(4578),u=r(7757),i=r.n(u),s=r(7294);function c(e){var t,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new o(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function o(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return o=function(e){this.s=e,this.n=e.next},o.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new o(e)}var l=function(e){function t(t){var r;return(r=e.call(this,t)||this).chooseMDXSaveDirectory=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showDirectoryPicker();case 2:return t=e.sent,e.next=5,r.verifyPermission(t,!0);case 5:r.setState({mdxSaveDirHandle:t});case 6:case"end":return e.stop()}}),e)}))),r.onConvert=(0,n.Z)(i().mark((function e(){var t,n,a,u,s,o,l,f,v,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state.mdxSaveDirHandle,n=!1,a=!1,e.prev=3,s=c(t.values());case 5:return e.next=7,s.next();case 7:if(!(n=!(o=e.sent).done)){e.next=30;break}if("file"===(l=o.value).kind){e.next=11;break}return e.abrupt("break",30);case 11:if(!l.name.startsWith(".")){e.next=13;break}return e.abrupt("continue",27);case 13:return e.next=15,l.getFile();case 15:return f=e.sent,e.next=18,f.text();case 18:if(!((v=e.sent).indexOf("nextItem:[]")>-1)){e.next=27;break}return console.log(f.name),p=v.replace("nextItem:[]","nextItem: []"),e.next=24,r.getSaveHandle(f.name,t);case 24:return d=e.sent,e.next=27,r.writeFile(d,p);case 27:n=!1,e.next=5;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(3),a=!0,u=e.t0;case 36:if(e.prev=36,e.prev=37,!n||null==s.return){e.next=41;break}return e.next=41,s.return();case 41:if(e.prev=41,!a){e.next=44;break}throw u;case 44:return e.finish(41);case 45:return e.finish(36);case 46:case"end":return e.stop()}}),e,null,[[3,32,36,46],[37,,41,45]])}))),r.verifyPermission=function(){var e=(0,n.Z)(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r&&(n.mode="readwrite"),e.next=4,t.queryPermission(n);case 4:if(e.t0=e.sent,"granted"!==e.t0){e.next=7;break}return e.abrupt("return",!0);case 7:return e.next=9,t.requestPermission(n);case 9:if(e.t1=e.sent,"granted"!==e.t1){e.next=12;break}return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.getSaveHandle=function(){var e=(0,n.Z)(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r.getFileHandle(t,{create:!0}));case 2:return n=r||"Documents",e.next=5,window.showSaveFilePicker({suggestedName:t,startIn:n});case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.writeFile=function(){var e=(0,n.Z)(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createWritable();case 2:return n=e.sent,e.next=5,n.write(r);case 5:return e.next=7,n.close();case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.state={mdxSaveDirHandle:null},r}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.state,t=(e.jsonDirHandle,e.mdxSaveDirHandle);return s.createElement("div",null,s.createElement("h1",null,"Editor"),s.createElement("button",{onClick:this.chooseMDXSaveDirectory},"CHOOSE MDX DIRECTORY"),s.createElement("p",null,t&&t.name),s.createElement("br",null),s.createElement("br",null),s.createElement("button",{onClick:this.onConvert},"EDIT"))},t}(s.Component);t.default=l},5861:function(e,t,r){function n(e,t,r,n,a,u,i){try{var s=e[u](i),c=s.value}catch(o){return void r(o)}s.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,u){var i=e.apply(t,r);function s(e){n(i,a,u,s,c,"next",e)}function c(e){n(i,a,u,s,c,"throw",e)}s(void 0)}))}}r.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=component---src-pages-editor-js-db4e9deb2f6ca35500ca.js.map